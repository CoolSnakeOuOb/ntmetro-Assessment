<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è€ƒæ ¸è¡¨å–®</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="top-bar">
        <h5><a href="homepage.html">è¿”å›åˆ—è¡¨</a></h5>
    </div>
    <div class="main-container" style="display: block;">
        <div id="content">
            <h4 class="text-center my-4">å¾æ¥­äººå“¡è€ƒæ ¸è¡¨</h4>
            <div class="frame">
                <div class="frame-header">
                    <span class="header-icon">ğŸ‘¤</span>
                    <span class="header-title">å—è©•è€…åŸºæœ¬è³‡æ–™</span>
                </div>
                <div class="frame-body">
                    <table class="table table-bordered mb-0">
                        <tbody>
                             <tr>
                                <td class="table-light">å§“å</td><td id="emp-name"></td>
                                <td class="table-light">å–®ä½</td><td id="emp-department" colspan="3"></td>
                            </tr>
                            <tr>
                                <td class="table-light">å“¡å·¥ç·¨è™Ÿ</td><td id="emp-id"></td>
                                <td class="table-light">åˆ°è·æ—¥æœŸ</td><td id="emp-hire-date"></td>
                                <td class="table-light">æ•˜è–ªè·ç­‰</td><td id="emp-level"></td>
                            </tr>
                            <tr>
                                <td class="table-light">å·®å‹¤</td>
                                <td colspan="5">
                                    äº‹å‡ï¼š<span id="leave-personal">0</span> å°æ™‚ï¼Œ
                                    ç—…å‡ï¼š<span id="leave-sick">0</span> å°æ™‚
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="frame">
                <div class="frame-header">
                    <span class="header-icon">ğŸ“</span>
                    <span class="header-title">å£¹ã€è€ƒæ ¸å…§å®¹</span>
                </div>
                <div class="frame-body">
                    <table class="table table-bordered text-center mb-0">
                        <thead class="table-light">
                            <tr><th>é …ç›®</th><th>è€ƒæ ¸å…§å®¹</th><th>æ¬Šé‡</th><th>å¾—åˆ†</th></tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td rowspan="5" class="align-middle">å·¥ä½œè¡¨ç¾ (40%)</td>
                                <td>å°ˆæ¥­çŸ¥è­˜ï¼šå°å…¶å·¥ä½œæ‰€å…·å‚™ä¹‹å°ˆæ¥­çŸ¥è­˜åŠä½œæ¥­æµç¨‹ä¹‹ç†Ÿç·´åº¦</td>
                                <td></td><td><input type="number" class="form-control score-input"></td>
                            </tr>
                            <tr>
                                <td>å‰µæ–°æ€ç¶­ï¼šèƒ½è·³è„«èˆŠæœ‰æ€ç¶­æå‡ºå‰µæ„æˆ–å…·é«”æ”¹å–„æªæ–½</td>
                                <td></td><td><input type="number" class="form-control score-input"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="frame">
                <div class="frame-header">
                    <span class="header-icon">ğŸŒŸ</span><span class="header-title">è²³ã€å¹´åº¦è²¢ç»</span>
                </div>
                <div class="frame-body">
                    <textarea class="form-control" rows="3" placeholder="è«‹å¡«å¯«å¹´åº¦è²¢ç»..."></textarea>
                </div>
            </div>
             <div class="frame">
                <div class="frame-header">
                    <span class="header-icon">âœï¸</span><span class="header-title">ä¸»ç®¡ç°½æ ¸</span>
                </div>
                <div class="frame-body">
                    <div class="row">
                        <div class="col-md-4"><strong>åˆæ ¸ä¸»ç®¡:</strong><hr></div>
                        <div class="col-md-4"><strong>è¦†æ ¸ä¸»ç®¡:</strong><hr></div>
                        <div class="col-md-4"><strong>å–®ä½ä¸»ç®¡:</strong><hr></div>
                    </div>
                </div>
            </div>
            <div class="row mt-4 align-items-center">
                <div class="col-md-8">
                    <table class="table table-bordered w-auto">
                       <tbody>
                           <tr>
                               <td class="table-light">å¹´åº¦è€ƒç¸¾ç¸½åˆ†</td>
                               <td id="total-score" class="text-center fw-bold">0</td>
                               <td class="table-light">ç­‰ç¬¬</td>
                               <td id="final-grade" class="text-center fw-bold"></td>
                           </tr>
                       </tbody>
                    </table>
                </div>
                <div class="col-md-4 text-end">
                    <button class="btn btn-secondary">æš«å­˜</button>
                    <button class="btn btn-success ms-2">é€å‡º</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script>
    $(document).ready(function() {
        const urlParams = new URLSearchParams(window.location.search);
        const employeeId = urlParams.get('employeeId');
        const employeeDatabase = {
            "11001": { name: "ç‹å°æ˜", department: "æŠ€è¡“éƒ¨", title: "å·¥ç¨‹å¸«", hireDate: "2021-03-15", level: "P3", personalLeave: 8, sickLeave: 16 },
            "11002": { name: "é™³æ€¡å›", department: "ç‡Ÿé‹éƒ¨", title: "ç®¡ç†å¸«", hireDate: "2023-08-01", level: "P2", personalLeave: 0, sickLeave: 4 }
        };
        const employeeData = employeeDatabase[employeeId];

        if (employeeData) {
            $('#emp-name').text(employeeData.name);
            $('#emp-department').text(employeeData.department + ' - ' + employeeData.title);
            $('#emp-id').text(employeeId);
            $('#emp-hire-date').text(employeeData.hireDate);
            $('#emp-level').text(employeeData.level);
            $('#leave-personal').text(employeeData.personalLeave);
            $('#leave-sick').text(employeeData.sickLeave);
        } else {
            $('.frame').first().html('<h4>éŒ¯èª¤ï¼šæ‰¾ä¸åˆ°è©²å“¡å·¥çš„è³‡æ–™</h4>');
        }

        function calculateScoreAndGrade() {
            let totalScore = 0;
            $('.score-input').each(function() {
                totalScore += parseFloat($(this).val()) || 0;
            });
            $('#total-score').text(totalScore);

            let grade = '';
            if (totalScore >= 90) { grade = 'å„ª'; }
            else if (totalScore >= 80) { grade = 'ç”²'; }
            else if (totalScore >= 70) { grade = 'ä¹™'; }
            else if (totalScore >= 60) { grade = 'ä¸™'; }
            else if (totalScore > 0) { grade = 'ä¸'; }
            $('#final-grade').text(grade);
        }
        $('.score-input').on('input', calculateScoreAndGrade);
    });
    </script>
</body>
</html>